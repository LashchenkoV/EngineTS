"use strict";var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),Main=function(){function t(t){this._canvas=t,this._ctx=this._canvas.getContext("2d"),new CustomFigure([new Point(100,100),new Point(200,100),new Point(200,50),new Point(100,50)],{border:new ColorRGBA(255,0,0),field:new ColorRGBA(0,255,0)}).draw(this._ctx)}return Object.defineProperty(t.prototype,"ctx",{get:function(){return this._ctx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},enumerable:!0,configurable:!0}),t}();window.addEventListener("load",function(){new Main(document.getElementById("canvas"))});var Point=function(){function t(t,n,e){void 0===e&&(e=1),this._x=t,this._y=n,this._mass=e}return t.prototype.updateForBasis=function(t){this._x=this._x*t[0].x+this._x*t[0].y,this._x=this._y*t[1].x+this._y*t[1].y},t.prototype.setLocation=function(t,n){this.x=t,this.y=n},t.prototype.getDistance=function(t){return Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mass",{get:function(){return this._mass},set:function(t){this._mass=t},enumerable:!0,configurable:!0}),t}(),Vector2D=function(){function t(t,n){this._x=t,this._y=n}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t.prototype.normalize=function(){var t=Vector.normalize(this);this._x=t.x,this._y=t.y},t.prototype.lengthV=function(){return Vector.lengthV(this)},t.prototype.distance=function(t){return Vector.distance(this,t)},t.prototype.angle=function(t){return Vector.angle(this,t)},t.prototype.multipleScalar=function(t){return Vector.multipleScalar(this,t)},t.prototype.multipleOnNumber=function(t){var n=Vector.multipleOnNumber(this,t);this._x=n.x,this._y=n.y},t.prototype.summ=function(t){var n=Vector.summ(this,t);this._x=n.x,this._y=n.y},t.prototype.subtraction=function(t){var n=Vector.subtraction(this,t);this._x=n.x,this._y=n.y},t}(),Canvas=function(){function t(){}return t.getRandomInt=function(t,n){return Math.round(t-.5+Math.random()*(n-t+1))},t.getRandomFloat=function(t,n){return this.getRoundNum(t+Math.random()*(n-t),3)},t.getRoundNum=function(t,n){return+parseFloat(t).toFixed(n)},t}(),Color=function(){function t(t,n,e){void 0===t&&(t=0),void 0===n&&(n=0),void 0===e&&(e=0),this._r=t,this._g=n,this._b=e,this._str=""}return Object.defineProperty(t.prototype,"r",{get:function(){return this._r},set:function(t){this._r=t>255||t<0?this._r:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"g",{get:function(){return this._g},set:function(t){this._g=t>255||t<0?this._g:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"b",{get:function(){return this._b},set:function(t){this._b=t>255||t<0?this._b:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"str",{get:function(){return this._str},set:function(t){this._str=t},enumerable:!0,configurable:!0}),t}(),ColorRGBA=function(t){function n(n,e,r,o){void 0===n&&(n=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===o&&(o=1);var i=t.call(this,n,e,r)||this;return i._alpha=o,i.alpha=o,i.createStr(),i}return __extends(n,t),Object.defineProperty(n.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha=t<0||t>1?this._alpha:t},enumerable:!0,configurable:!0}),n.prototype.getRand=function(t){return this.r=Canvas.getRandomInt(0,255),this.g=Canvas.getRandomInt(0,255),this.b=Canvas.getRandomInt(0,255),this.alpha=t,this.createStr(),this},n.prototype.createStr=function(){this.str="rgba("+this.r+","+this.g+","+this.b+","+this.alpha+")"},n.getRandom=function(t){void 0===t&&(t=1);var e=new n;return e.getRand(t),e},n.getRandomString=function(t){var e=new n;return e.getRand(t),e.str},n}(Color),Angle=function(){function t(){}return t.deg=function(t){return t*Math.PI/180},t.rad=function(t){return 180*t/Math.PI},t}(),Vector=function(){function t(){}return t.rotate=function(t,n){var e=t.x*Math.cos(n)-t.y*Math.sin(n),r=t.x*Math.sin(n)+t.y*Math.cos(n);return new Vector2D(e,r)},t.distance=function(n,e){return t.lengthV(t.subtraction(n,e))},t.angle=function(n,e){return Math.acos(t.multipleScalar(t.normalize(n),t.normalize(e)))},t.normalize=function(n){var e=t.lengthV(n);return new Vector2D(n.x/e,n.y/e)},t.lengthV=function(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))},t.multipleScalar=function(t,n){return t.x*n.x+t.y*n.y},t.multipleOnNumber=function(t,n){return new Vector2D(t.x+n,t.y+n)},t.summ=function(t,n){return new Vector2D(t.x+n.x,t.y+n.y)},t.subtraction=function(t,n){return new Vector2D(t.x-n.x,t.y-n.y)},t}(),Figure=function(){function t(t,n){void 0===n&&(n={border:ColorRGBA.getRandom(),field:ColorRGBA.getRandom()}),this._points=t,this._colors=n,this._centerMass={x:0,y:0},this._square=0,this.determineCenterMass(),this.getSquare()}return Object.defineProperty(t.prototype,"colors",{get:function(){return this._colors},set:function(t){this._colors=t},enumerable:!0,configurable:!0}),t.prototype.setColorBorder=function(t){this._colors.border=t},t.prototype.setColorField=function(t){this._colors.field=t},Object.defineProperty(t.prototype,"centerMass",{get:function(){return this._centerMass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"square",{get:function(){return this._square},enumerable:!0,configurable:!0}),t.prototype.draw=function(t){var n=0,e=new Path2D;t.fillStyle=this._colors.field.str,t.strokeStyle=this._colors.border.str,e.moveTo(this._points[0].x,this._points[0].y);for(var r=0;r<this._points.length;r++)n=r+1>=this._points.length?0:r+1,e.lineTo(this._points[n].x,this._points[n].y);t.fill(e),t.stroke(e)},t.prototype.getSquare=function(){for(var t=0,n=0,e=0;e<this._points.length;e++)n=e+1>this._points.length?0:e,t+=this._points[e].x*this._points[n].y-this._points[n].x*this._points[e].y;return this._square=t,t},t.prototype.delPoint=function(t){for(var n=0;n<this._points.length;n++)if(this._points[n].equals(t))return this._points.splice(n,1),!0;return!1},t.prototype.addPoint=function(t){for(var n=0;n<this._points.length;n++)if(!this._points[n].equals(t))return!1;return this._points.push(t),!0},t.prototype.determineCenterMass=function(){for(var t=0,n=0,e=0,r=0;r<this._points.length;r++)t+=this._points[r].x*this._points[r].mass,n+=this._points[r].y*this._points[r].mass,e+=this._points[r].mass;return this._centerMass={x:t/e,y:n/e},this._centerMass},t}(),CustomFigure=function(t){function n(n,e){return t.call(this,n,e)||this}return __extends(n,t),n.prototype.rotate=function(){},n.prototype.update=function(){},n}(Figure);